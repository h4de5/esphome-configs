substitutions:
  # led leiste david
  devicename: "esp32_2"
  upper_devicename: "ESP32 2"

<<: !include common/esp32.yaml

esphome:
  name: $devicename
  platform: esp32
  board: az-delivery-devkit-v4
  includes:
    - lambdas/colorTempToRGB.h
    - lambdas/starsLambda.h
  on_boot:
    priority: 800
    then:
      #- light.turn_on: ${devicename}_WS2812b_Light
      - light.turn_on:
          id: WS2812b
          # effect unten beim turn on handler einstellen!
          brightness: 11%

light:
  # ... and then make a light out of it.
  #  - platform: monochromatic
  #    name: "${upper_devicename} Blue LED"
  #    output: ${devicename}_led

  - platform: fastled_clockless
    name: "$devicename - Licht"
    icon: mdi:led-outline
    chipset: WS2812b
    # pin: D1
    # U2 TX 34
    pin: GPIO17
    num_leds: 75
    rgb_order: GRB
    on_turn_on:
      - light.turn_on:
          id: WS2812b
          effect: None
          # effect: "starry sky"
          # effect: "candles"
          # red: 0.5
          # green: 0.5
          # blue: 0.5
          # red: 1
          # green: 0.75
          # blue: 0.2
          # effect: "color change"
    id: WS2812b
    <<: !include common/base-light-effects.yaml

status_led:
  pin:
    number: GPIO02
    #inverted: True
    inverted: False
  id: led_blue
